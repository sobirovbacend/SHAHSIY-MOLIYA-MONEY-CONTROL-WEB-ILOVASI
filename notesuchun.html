<html lang="uz"><head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Money Control | Full App</title>
<!-- Fonts: Inter -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&amp;display=swap" rel="stylesheet">
<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>
<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<!-- Lucide (Iconify via lucide bundle already used here) -->
<script src="https://unpkg.com/lucide@latest"></script>
<script>
tailwind.config = {
theme: {
extend: {
fontFamily: { sans: ['Inter', 'sans-serif'] },
colors: {
gray: {
50: '#F9FAFB',
100: '#F3F4F6',
200: '#E5E7EB',
300: '#D1D5DB',
400: '#9CA3AF',
500: '#6B7280',
600: '#4B5563',
700: '#374151',
800: '#1F2937',
900: '#111827',
}
}
}
}
}
</script>
<style>
/* Custom scrollbar for webkit */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #E5E7EB; border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: #D1D5DB; }
.fade-in { animation: fadeIn 0.3s ease-in-out; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
/* Custom Radio for Account Type */
.account-type-radio:checked + div {
border-color: #111827;
background-color: #F9FAFB;
}
.account-type-radio:checked + div .check-icon {
opacity: 1;
}
/* Theme */
body.dark { background:#0B1220; color:#C7D2FE; }
body.dark .bg-white { background:#0F172A !important; }
body.dark .md\:bg-gray-50 { background:#0B1220 !important; }
body.dark .bg-gray-50 { background:#0B1220 !important; }
body.dark .text-gray-600 { color:#94A3B8 !important; }
body.dark .text-gray-500 { color:#94A3B8 !important; }
body.dark .text-gray-400 { color:#64748B !important; }
body.dark .text-gray-900 { color:#E2E8F0 !important; }
body.dark .border-gray-200 { border-color:#1F2937 !important; }
body.dark .border-gray-100 { border-color:#1F2937 !important; }
body.dark .bg-gray-50\/50 { background: rgba(15,23,42,.6) !important; }
body.dark .bg-gray-100 { background:#111827 !important; }
body.dark .hover\:bg-gray-50:hover { background:#111827 !important; }
body.dark .hover\:bg-gray-200:hover { background:#111827 !important; }
body.dark .bg-gray-900 { background:#E2E8F0 !important; }
body.dark .text-white { color:#0B1220 !important; }
body.dark input, body.dark select, body.dark textarea {
background:#0B1220 !important;
border-color:#1F2937 !important;
color:#E2E8F0 !important;
}
body.dark ::-webkit-scrollbar-thumb { background:#1F2937; }
body.dark ::-webkit-scrollbar-thumb:hover { background:#374151; }
</style></head>

<body class="bg-gray-50 text-gray-600 font-sans antialiased h-screen flex overflow-hidden selection:bg-gray-900 selection:text-white">

    <!-- Sidebar -->
    <aside class="hidden w-64 border-r border-gray-200 bg-white flex-col md:flex">
        <div class="h-16 flex items-center px-6 border-b border-gray-100">
            <div class="flex items-center gap-2 text-gray-900">
                <i data-lucide="pie-chart" class="w-5 h-5"></i>
                <span class="font-medium tracking-tight text-sm uppercase">Money Control</span>
            </div>
        </div>

        <nav class="flex-1 overflow-y-auto py-4 px-3 space-y-1" id="sidebar-nav">
            <button onclick="showPage('dashboard')" id="nav-dashboard" class="w-full flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-md bg-gray-100 text-gray-900 group transition-all">
                <i data-lucide="layout-dashboard" class="w-4 h-4 text-gray-500 group-hover:text-gray-900"></i>
                Dashboard
            </button>
            <button onclick="showPage('incomes')" id="nav-incomes" class="w-full flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-md text-gray-500 hover:bg-gray-50 hover:text-gray-900 group transition-all">
                <i data-lucide="arrow-down-left" class="w-4 h-4 text-gray-400 group-hover:text-gray-900"></i>
                Kirimlar
            </button>
            <button onclick="showPage('expenses')" id="nav-expenses" class="w-full flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-md text-gray-500 hover:bg-gray-50 hover:text-gray-900 group transition-all">
                <i data-lucide="arrow-up-right" class="w-4 h-4 text-gray-400 group-hover:text-gray-900"></i>
                Chiqimlar
            </button>
            <button onclick="showPage('accounts')" id="nav-accounts" class="w-full flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-md text-gray-500 hover:bg-gray-50 hover:text-gray-900 group transition-all">
                <i data-lucide="wallet" class="w-4 h-4 text-gray-400 group-hover:text-gray-900"></i>
                Hisoblar
            </button>
            <button onclick="showPage('reports')" id="nav-reports" class="w-full flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-md text-gray-500 hover:bg-gray-50 hover:text-gray-900 group transition-all">
                <i data-lucide="bar-chart-3" class="w-4 h-4 text-gray-400 group-hover:text-gray-900"></i>
                Hisobotlar
            </button>
        </nav>

        <div class="border-t border-gray-200 p-3">
            <button onclick="showPage('settings')" id="nav-settings" class="w-full flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-md text-gray-500 hover:bg-gray-50 hover:text-gray-900 group transition-all">
                <i data-lucide="settings" class="w-4 h-4 text-gray-400 group-hover:text-gray-900"></i>
                Sozlamalar
            </button>
            <div class="mt-4 flex items-center gap-3 px-3">
                <div class="w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-xs font-medium text-gray-600 ring-2 ring-white">
                    AD
                </div>
                <div class="flex flex-col text-left">
                    <span class="text-xs font-medium text-gray-900">Admin User</span>
                    <span class="text-[10px] text-gray-400">admin@money.uz</span>
                </div>
            </div>
        </div>
    </aside>

    <!-- Main Content Wrapper -->
    <div class="flex-1 flex flex-col h-screen overflow-hidden relative bg-white md:bg-gray-50">
        <!-- Header -->
        <header class="h-16 flex items-center justify-between px-6 bg-white border-b border-gray-200 md:bg-transparent md:border-none z-10">
            <div class="flex items-center gap-4 md:hidden">
                <button class="text-gray-500 hover:text-gray-900">
                    <i data-lucide="menu" class="w-5 h-5"></i>
                </button>
                <span class="font-medium tracking-tight text-gray-900">Money Control</span>
            </div>

            <!-- Context Title -->
            <div class="hidden md:flex items-center gap-2">
                <h1 class="text-sm font-medium text-gray-500">Umumiy</h1>
                <span class="text-gray-300">/</span>
                <h1 id="page-title" class="text-sm font-medium text-gray-900">Dashboard</h1>
            </div>

            <div class="flex items-center gap-4">
                <!-- Theme Toggle (added) -->
                <div class="flex items-center gap-1 p-1 bg-white border border-gray-200 rounded-md shadow-sm">
                    <button id="theme-light" type="button" class="px-3 py-1.5 text-xs font-medium rounded-md bg-gray-100 text-gray-900 hover:bg-gray-200 transition-colors">Oq</button>
                    <button id="theme-dark" type="button" class="px-3 py-1.5 text-xs font-medium rounded-md text-gray-500 hover:bg-gray-50 hover:text-gray-900 transition-colors">Qora</button>
                </div>

                <div class="flex items-center gap-2 px-3 py-1.5 bg-white border border-gray-200 rounded-md shadow-sm">
                    <span class="text-xs font-medium text-gray-500">Asosiy:</span>
                    <select class="text-xs font-medium text-gray-900 bg-transparent outline-none cursor-pointer">
                        <option>UZS</option>
                        <option>USD</option>
                    </select>
                </div>
                <button class="relative p-2 text-gray-400 hover:text-gray-900 transition-colors">
                    <i data-lucide="bell" class="w-4 h-4"></i>
                    <span class="absolute top-2 right-2 w-1.5 h-1.5 bg-red-500 rounded-full ring-2 ring-white"></span>
                </button>
            </div>
        </header>

        <!-- Dynamic Content Area -->
        <main class="flex-1 overflow-y-auto p-4 md:p-8 scroll-smooth">
            <div class="max-w-6xl mx-auto">

                <!-- PAGE 1: DASHBOARD -->
                <div id="page-dashboard" class="space-y-6 fade-in">
                    <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4">
                        <div>
                            <h2 class="text-lg font-medium tracking-tight text-gray-900">Moliyaviy Holat</h2>
                            <p class="text-sm text-gray-500 mt-1">Joriy oy uchun qisqacha statistika.</p>
                        </div>
                        <div class="flex items-center gap-3">
                            <button onclick="showPage('add-expense')" class="flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 text-gray-700 text-xs font-medium rounded-md shadow-sm hover:bg-gray-50 transition-all">
                                <i data-lucide="minus" class="w-3 h-3"></i> Chiqim
                            </button>
                            <button onclick="showPage('add-income')" class="flex items-center gap-2 bg-gray-900 text-white px-4 py-2 text-xs font-medium rounded-md shadow-sm hover:bg-gray-800 transition-all">
                                <i data-lucide="plus" class="w-3 h-3"></i> Kirim
                            </button>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group hover:border-gray-300 transition-colors">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <p class="text-[11px] font-semibold text-gray-500 uppercase tracking-wide">Total Kirim</p>
                                    <h3 class="text-2xl font-semibold tracking-tight text-gray-900 mt-1 tabular-nums">12,450,000 <span class="text-sm text-gray-400 font-normal">UZS</span></h3>
                                </div>
                                <div class="p-2 bg-emerald-50 text-emerald-600 rounded-lg"><i data-lucide="arrow-down-left" class="w-4 h-4"></i></div>
                            </div>
                            <span class="inline-flex items-center gap-1 text-xs font-medium text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-full"><i data-lucide="trending-up" class="w-3 h-3"></i> +12.5%</span>
                        </div>
                        <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group hover:border-gray-300 transition-colors">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <p class="text-[11px] font-semibold text-gray-500 uppercase tracking-wide">Total Chiqim</p>
                                    <h3 class="text-2xl font-semibold tracking-tight text-gray-900 mt-1 tabular-nums">4,200,000 <span class="text-sm text-gray-400 font-normal">UZS</span></h3>
                                </div>
                                <div class="p-2 bg-rose-50 text-rose-600 rounded-lg"><i data-lucide="arrow-up-right" class="w-4 h-4"></i></div>
                            </div>
                            <span class="inline-flex items-center gap-1 text-xs font-medium text-rose-600 bg-rose-50 px-2 py-0.5 rounded-full"><i data-lucide="trending-down" class="w-3 h-3"></i> +5.2%</span>
                        </div>
                        <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group hover:border-gray-300 transition-colors">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <p class="text-[11px] font-semibold text-gray-500 uppercase tracking-wide">Joriy Balans</p>
                                    <h3 class="text-2xl font-semibold tracking-tight text-gray-900 mt-1 tabular-nums">8,250,000 <span class="text-sm text-gray-400 font-normal">UZS</span></h3>
                                </div>
                                <div class="p-2 bg-blue-50 text-blue-600 rounded-lg"><i data-lucide="wallet" class="w-4 h-4"></i></div>
                            </div>
                            <div class="w-full bg-gray-100 rounded-full h-1.5 mt-2"><div class="bg-gray-900 h-1.5 rounded-full" style="width: 70%"></div></div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-sm font-medium text-gray-900">Dinamika</h3>
                            <select class="text-xs border border-gray-200 bg-gray-50 rounded-md px-2 py-1 text-gray-600 outline-none">
                                <option>Oylik</option>
                                <option>Haftalik</option>
                            </select>
                        </div>
                        <div class="w-full h-64">
                            <canvas id="financeChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- PAGE 2: KIRIMLAR (INCOMES) -->
                <div id="page-incomes" class="space-y-6 hidden fade-in">
                    <div class="flex items-center justify-between">
                        <div>
                            <h2 class="text-lg font-medium tracking-tight text-gray-900">Kirimlar Tarixi</h2>
                            <p class="text-sm text-gray-500 mt-1">Barcha kirim operatsiyalari ro'yxati.</p>
                        </div>
                        <button onclick="showPage('add-income')" class="flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white text-xs font-medium rounded-md shadow-sm hover:bg-emerald-700 transition-all">
                            <i data-lucide="plus" class="w-3 h-3"></i>
                            Yangi Kirim
                        </button>
                    </div>

                    <div class="bg-white p-4 rounded-xl border border-gray-200 flex gap-4 items-center">
                        <div class="relative flex-1">
                            <i data-lucide="search" class="absolute left-3 top-2.5 w-4 h-4 text-gray-400"></i>
                            <input type="text" placeholder="Qidirish..." class="w-full pl-9 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-md text-xs focus:outline-none focus:ring-1 focus:ring-emerald-500">
                        </div>
                        <select class="px-3 py-2 bg-white border border-gray-200 rounded-md text-xs text-gray-600 outline-none"><option>Barcha vaqtlar</option><option>Shu oy</option></select>
                        <select class="px-3 py-2 bg-white border border-gray-200 rounded-md text-xs text-gray-600 outline-none"><option>Barcha kategoriyalar</option></select>
                    </div>

                    <div class="bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden">
                        <table class="w-full text-left">
                            <thead class="bg-gray-50 border-b border-gray-200">
                                <tr>
                                    <th class="px-6 py-3 text-[10px] uppercase font-semibold text-gray-500">Sana</th>
                                    <th class="px-6 py-3 text-[10px] uppercase font-semibold text-gray-500">Kategoriya</th>
                                    <th class="px-6 py-3 text-[10px] uppercase font-semibold text-gray-500">Hisob</th>
                                    <th class="px-6 py-3 text-[10px] uppercase font-semibold text-gray-500 text-right">Summa</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-100">
                                <tr class="hover:bg-gray-50">
                                    <td class="px-6 py-4 text-xs text-gray-500">14 Okt 2023</td>
                                    <td class="px-6 py-4 text-xs font-medium text-gray-900">Maosh</td>
                                    <td class="px-6 py-4 text-xs text-gray-500">Visa 4589</td>
                                    <td class="px-6 py-4 text-xs font-medium text-emerald-600 text-right">+4,500,000 UZS</td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="px-6 py-4 text-xs text-gray-500">10 Okt 2023</td>
                                    <td class="px-6 py-4 text-xs font-medium text-gray-900">Frilans</td>
                                    <td class="px-6 py-4 text-xs text-gray-500">Naqd</td>
                                    <td class="px-6 py-4 text-xs font-medium text-emerald-600 text-right">+1,200,000 UZS</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- PAGE 2.1: YANGI KIRIM (ADD INCOME) -->
                <div id="page-add-income" class="hidden fade-in max-w-2xl mx-auto">
                    <div class="flex items-center gap-4 mb-6">
                        <button onclick="showPage('incomes')" class="p-2 rounded-full hover:bg-gray-200 text-gray-500 transition-colors">
                            <i data-lucide="arrow-left" class="w-5 h-5"></i>
                        </button>
                        <div>
                            <h2 class="text-lg font-medium tracking-tight text-gray-900">Yangi Kirim Qo'shish</h2>
                            <p class="text-sm text-gray-500">Hisobingizga pul mablag'ini kirim qilish.</p>
                        </div>
                    </div>

                    <div class="bg-white p-8 rounded-xl border border-gray-200 shadow-sm">
                        <div class="space-y-6">
                            <div>
                                <label class="block text-xs font-medium text-gray-700 mb-1.5">Summa va Valyuta</label>
                                <div class="relative flex items-center">
                                    <span class="absolute left-3 text-gray-400 font-light text-lg"></span>
                                    <input type="number" placeholder="0.00" class="w-full pl-4 pr-24 py-3 bg-gray-50 border border-gray-200 rounded-lg text-lg font-medium text-gray-900 focus:outline-none focus:ring-1 focus:ring-emerald-500 transition-colors">
                                    <div class="absolute right-1 top-1 bottom-1">
                                        <select class="h-full px-3 bg-white rounded-md border-l border-gray-200 text-xs font-medium text-gray-600 outline-none hover:bg-gray-50 cursor-pointer">
                                            <option value="UZS">UZS</option>
                                            <option value="USD">USD</option>
                                            <option value="EUR">EUR</option>
                                        </select>
                                    </div>
                                </div>
                                <p class="mt-1.5 text-[10px] text-gray-400">Summa tanlangan valyutada saqlanadi.</p>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-xs font-medium text-gray-700 mb-1.5">Kategoriya</label>
                                    <select class="w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-gray-400">
                                        <option>Maosh</option>
                                        <option>Bonus</option>
                                        <option>Frilans</option>
                                        <option>Sovg'a</option>
                                        <option>Investitsiya</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-gray-700 mb-1.5">Qaysi hisobga?</label>
                                    <select class="w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-gray-400">
                                        <option>Asosiy Karta (Visa)</option>
                                        <option>Hamyon (Naqd)</option>
                                        <option>Jamg'arma</option>
                                    </select>
                                </div>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-xs font-medium text-gray-700 mb-1.5">Sana</label>
                                    <input type="date" class="w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-gray-400 text-gray-600">
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-gray-700 mb-1.5">Vaqt (ixtiyoriy)</label>
                                    <input type="time" class="w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-gray-400 text-gray-600">
                                </div>
                            </div>

                            <div>
                                <label class="block text-xs font-medium text-gray-700 mb-1.5">Izoh (ixtiyoriy)</label>
                                <textarea rows="3" placeholder="Qo'shimcha ma'lumot..." class="w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-gray-400"></textarea>
                            </div>

                            <div class="pt-4 border-t border-gray-100 flex justify-end gap-3">
                                <button onclick="showPage('incomes')" class="px-6 py-2.5 text-xs font-medium text-gray-600 hover:text-gray-900 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-all">Bekor qilish</button>
                                <button onclick="showPage('incomes')" class="px-6 py-2.5 bg-emerald-600 text-white text-xs font-medium rounded-lg shadow-sm hover:bg-emerald-700 transition-all flex items-center gap-2">
                                    <i data-lucide="check" class="w-4 h-4"></i> Saqlash
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- PAGE 3: CHIQIMLAR (EXPENSES) -->
                <div id="page-expenses" class="space-y-6 hidden fade-in">
                    <div class="flex items-center justify-between">
                        <div>
                            <h2 class="text-lg font-medium tracking-tight text-gray-900">Chiqimlar Tarixi</h2>
                            <p class="text-sm text-gray-500 mt-1">Barcha xarajatlar ro'yxati.</p>
                        </div>
                        <button onclick="showPage('add-expense')" class="flex items-center gap-2 px-4 py-2 bg-rose-600 text-white text-xs font-medium rounded-md shadow-sm hover:bg-rose-700 transition-all">
                            <i data-lucide="plus" class="w-3 h-3"></i>
                            Yangi Chiqim
                        </button>
                    </div>

                    <div class="bg-white p-4 rounded-xl border border-gray-200 flex gap-4 items-center">
                        <div class="relative flex-1">
                            <i data-lucide="search" class="absolute left-3 top-2.5 w-4 h-4 text-gray-400"></i>
                            <input type="text" placeholder="Qidirish..." class="w-full pl-9 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-md text-xs focus:outline-none focus:ring-1 focus:ring-rose-500">
                        </div>
                        <select class="px-3 py-2 bg-white border border-gray-200 rounded-md text-xs text-gray-600 outline-none"><option>Barcha vaqtlar</option></select>
                        <select class="px-3 py-2 bg-white border border-gray-200 rounded-md text-xs text-gray-600 outline-none"><option>Transport</option><option>Oziq-ovqat</option></select>
                    </div>

                    <div class="bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden">
                        <table class="w-full text-left">
                            <thead class="bg-gray-50 border-b border-gray-200">
                                <tr>
                                    <th class="px-6 py-3 text-[10px] uppercase font-semibold text-gray-500">Sana</th>
                                    <th class="px-6 py-3 text-[10px] uppercase font-semibold text-gray-500">Kategoriya</th>
                                    <th class="px-6 py-3 text-[10px] uppercase font-semibold text-gray-500">Hisob</th>
                                    <th class="px-6 py-3 text-[10px] uppercase font-semibold text-gray-500 text-right">Summa</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-100">
                                <tr class="hover:bg-gray-50">
                                    <td class="px-6 py-4 text-xs text-gray-500">Bugun, 10:00</td>
                                    <td class="px-6 py-4 text-xs font-medium text-gray-900">Transport</td>
                                    <td class="px-6 py-4 text-xs text-gray-500">Naqd</td>
                                    <td class="px-6 py-4 text-xs font-medium text-gray-900 text-right">-25,000 UZS</td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="px-6 py-4 text-xs text-gray-500">Kecha, 19:30</td>
                                    <td class="px-6 py-4 text-xs font-medium text-gray-900">Oziq-ovqat</td>
                                    <td class="px-6 py-4 text-xs text-gray-500">Visa 4589</td>
                                    <td class="px-6 py-4 text-xs font-medium text-gray-900 text-right">-340,000 UZS</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- PAGE 3.1: YANGI CHIQIM (ADD EXPENSE) -->
                <div id="page-add-expense" class="hidden fade-in max-w-2xl mx-auto">
                    <div class="flex items-center gap-4 mb-6">
                        <button onclick="showPage('expenses')" class="p-2 rounded-full hover:bg-gray-200 text-gray-500 transition-colors">
                            <i data-lucide="arrow-left" class="w-5 h-5"></i>
                        </button>
                        <div>
                            <h2 class="text-lg font-medium tracking-tight text-gray-900">Yangi Chiqim Qo'shish</h2>
                            <p class="text-sm text-gray-500">Xarajatlarni ro'yxatga olish.</p>
                        </div>
                    </div>

                    <div class="bg-white p-8 rounded-xl border border-gray-200 shadow-sm">
                        <div class="space-y-6">
                            <div>
                                <label class="block text-xs font-medium text-gray-700 mb-1.5">Summa va Valyuta</label>
                                <div class="relative flex items-center">
                                    <input type="number" placeholder="0.00" class="w-full pl-4 pr-24 py-3 bg-50 border border-gray-200 rounded-lg text-lg font-medium text-gray-900 focus:outline-none focus:ring-1 focus:ring-rose-500 transition-colors">
                                    <div class="absolute right-1 top-1 bottom-1">
                                        <select class="h-full px-3 bg-white rounded-md border-l border-gray-200 text-xs font-medium text-gray-600 outline-none hover:bg-gray-50 cursor-pointer">
                                            <option value="UZS">UZS</option>
                                            <option value="USD">USD</option>
                                            <option value="EUR">EUR</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-xs font-medium text-gray-700 mb-1.5">Kategoriya</label>
                                    <select class="w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-gray-400">
                                        <option>Oziq-ovqat</option>
                                        <option>Transport</option>
                                        <option>Kommunal</option>
                                        <option>Sog'liq</option>
                                        <option>Kiyim-kechak</option>
                                        <option>O'yin-kulgi</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-gray-700 mb-1.5">Qaysi hisobdan?</label>
                                    <select class="w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-gray-400">
                                        <option>Asosiy Karta (Visa)</option>
                                        <option>Hamyon (Naqd)</option>
                                        <option>Jamg'arma</option>
                                    </select>
                                </div>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-xs font-medium text-gray-700 mb-1.5">Sana</label>
                                    <input type="date" class="w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-gray-400 text-gray-600">
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-gray-700 mb-1.5">Vaqt (ixtiyoriy)</label>
                                    <input type="time" class="w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-gray-400 text-gray-600">
                                </div>
                            </div>

                            <div>
                                <label class="block text-xs font-medium text-gray-700 mb-1.5">Izoh (ixtiyoriy)</label>
                                <textarea rows="3" placeholder="Masalan: Supermarket..." class="w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-gray-400"></textarea>
                            </div>

                            <div class="pt-4 border-t border-gray-100 flex justify-end gap-3">
                                <button onclick="showPage('expenses')" class="px-6 py-2.5 text-xs font-medium text-gray-600 hover:text-gray-900 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-all">Bekor qilish</button>
                                <button onclick="showPage('expenses')" class="px-6 py-2.5 bg-rose-600 text-white text-xs font-medium rounded-lg shadow-sm hover:bg-rose-700 transition-all flex items-center gap-2">
                                    <i data-lucide="check" class="w-4 h-4"></i> Saqlash
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- PAGE 4: HISOBLAR (ACCOUNTS) -->
                <div id="page-accounts" class="space-y-6 hidden fade-in">
                    <div class="flex items-center justify-between">
                        <div>
                            <h2 class="text-lg font-medium tracking-tight text-gray-900">Mening Hisoblarim</h2>
                            <p class="text-sm text-gray-500 mt-1">Kartalar va hamyonlar boshqaruvi.</p>
                        </div>
                        <button onclick="showPage('add-account')" class="flex items-center gap-2 px-4 py-2 bg-gray-900 text-white text-xs font-medium rounded-md shadow-sm hover:bg-gray-800 transition-all">
                            <i data-lucide="plus" class="w-3 h-3"></i>
                            Yangi Hisob
                        </button>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="bg-gradient-to-br from-gray-900 to-gray-800 rounded-xl p-6 text-white shadow-lg relative overflow-hidden">
                            <div class="absolute top-0 right-0 p-32 bg-white opacity-5 rounded-full -mr-16 -mt-16 blur-2xl"></div>
                            <div class="flex justify-between items-start mb-8 relative z-10">
                                <div>
                                    <p class="text-xs text-gray-400">Asosiy Karta</p>
                                    <p class="text-sm font-medium mt-1">Visa Classic</p>
                                </div>
                                <i data-lucide="credit-card" class="w-6 h-6 text-gray-400"></i>
                            </div>
                            <div class="mb-4 relative z-10">
                                <p class="text-2xl font-medium tracking-tight">4,500,200 <span class="text-sm text-gray-400">UZS</span></p>
                            </div>
                            <div class="flex justify-between items-center text-xs text-gray-400 relative z-10">
                                <span>**** **** **** 4589</span>
                                <span>12/25</span>
                            </div>
                        </div>

                        <div class="bg-white border border-gray-200 rounded-xl p-6 shadow-sm hover:border-gray-300 transition-colors">
                            <div class="flex justify-between items-start mb-8">
                                <div>
                                    <p class="text-xs text-gray-500">Naqd Pul</p>
                                    <p class="text-sm font-medium text-gray-900 mt-1">Hamyon</p>
                                </div>
                                <div class="w-8 h-8 bg-green-50 rounded-full flex items-center justify-center text-green-600">
                                    <i data-lucide="banknote" class="w-4 h-4"></i>
                                </div>
                            </div>
                            <div class="mb-4">
                                <p class="text-2xl font-medium tracking-tight text-gray-900">1,200,000 <span class="text-sm text-gray-400">UZS</span></p>
                            </div>
                            <div class="flex justify-between items-center text-xs text-gray-400">
                                <span>So'nggi kirim: Kecha</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- PAGE 4.1: YANGI HISOB (ADD ACCOUNT) -->
                <div id="page-add-account" class="hidden fade-in max-w-2xl mx-auto">
                    <div class="flex items-center gap-4 mb-6">
                        <button onclick="showPage('accounts')" class="p-2 rounded-full hover:bg-gray-200 text-gray-500 transition-colors">
                            <i data-lucide="arrow-left" class="w-5 h-5"></i>
                        </button>
                        <div>
                            <h2 class="text-lg font-medium tracking-tight text-gray-900">Yangi Hisob Ochish</h2>
                            <p class="text-sm text-gray-500">Karta yoki naqd pul hamyonini qo'shing.</p>
                        </div>
                    </div>

                    <div class="bg-white p-8 rounded-xl border border-gray-200 shadow-sm">
                        <div class="space-y-6">
                            <div>
                                <label class="block text-xs font-medium text-gray-700 mb-3">Hisob turi</label>
                                <div class="grid grid-cols-2 gap-4">
                                    <label class="relative cursor-pointer group">
                                        <input type="radio" name="account_type" value="card" class="account-type-radio sr-only" checked="" onclick="toggleAccountFields('card')">
                                        <div class="p-4 rounded-lg border border-gray-200 hover:border-gray-300 transition-all flex flex-col items-center gap-2 group-hover:bg-gray-50">
                                            <i data-lucide="credit-card" class="w-6 h-6 text-gray-500 mb-1"></i>
                                            <span class="text-xs font-medium text-gray-900">Karta</span>
                                            <div class="check-icon absolute top-2 right-2 opacity-0 transition-opacity">
                                                <i data-lucide="check-circle-2" class="w-4 h-4 text-gray-900"></i>
                                            </div>
                                        </div>
                                    </label>
                                    <label class="relative cursor-pointer group">
                                        <input type="radio" name="account_type" value="cash" class="account-type-radio sr-only" onclick="toggleAccountFields('cash')">
                                        <div class="p-4 rounded-lg border border-gray-200 hover:border-gray-300 transition-all flex flex-col items-center gap-2 group-hover:bg-gray-50">
                                            <i data-lucide="banknote" class="w-6 h-6 text-gray-500 mb-1"></i>
                                            <span class="text-xs font-medium text-gray-900">Naqd Pul</span>
                                            <div class="check-icon absolute top-2 right-2 opacity-0 transition-opacity">
                                                <i data-lucide="check-circle-2" class="w-4 h-4 text-gray-900"></i>
                                            </div>
                                        </div>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="block text-xs font-medium text-gray-700 mb-1.5">Hisob nomi</label>
                                <input type="text" placeholder="Masalan: Asosiy Visa, Seyf..." class="w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-gray-400">
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-xs font-medium text-gray-700 mb-1.5">Boshlang'ich Balans</label>
                                    <input type="number" placeholder="0.00" class="w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-gray-400">
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-gray-700 mb-1.5">Valyuta</label>
                                    <select class="w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-gray-400">
                                        <option value="UZS">UZS (So'm)</option>
                                        <option value="USD">USD (Dollar)</option>
                                    </select>
                                </div>
                            </div>

                            <div id="card-fields" class="space-y-6 pt-2 border-t border-gray-100">
                                <div>
                                    <label class="block text-xs font-medium text-gray-700 mb-1.5">Bank nomi</label>
                                    <input type="text" placeholder="Kapitalbank, Ipak Yo'li..." class="w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-gray-400">
                                </div>
                                <div class="grid grid-cols-2 gap-6">
                                    <div>
                                        <label class="block text-xs font-medium text-gray-700 mb-1.5">Oxirgi 4 raqam</label>
                                        <input type="text" maxlength="4" placeholder="0000" class="w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-gray-400">
                                    </div>
                                    <div>
                                        <label class="block text-xs font-medium text-gray-700 mb-1.5">Amal qilish muddati</label>
                                        <input type="text" placeholder="MM/YY" class="w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-gray-400">
                                    </div>
                                </div>
                            </div>

                            <div class="pt-4 border-t border-gray-100 flex justify-end gap-3">
                                <button onclick="showPage('accounts')" class="px-6 py-2.5 text-xs font-medium text-gray-600 hover:text-gray-900 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-all">Bekor qilish</button>
                                <button onclick="showPage('accounts')" class="px-6 py-2.5 bg-gray-900 text-white text-xs font-medium rounded-lg shadow-sm hover:bg-gray-800 transition-all flex items-center gap-2">
                                    <i data-lucide="check" class="w-4 h-4"></i> Yaratish
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- PAGE 5: HISOBOTLAR (REPORTS) -->
                <div id="page-reports" class="space-y-6 hidden fade-in">
                    <div>
                        <h2 class="text-lg font-medium tracking-tight text-gray-900">Hisobot va Analitika</h2>
                        <p class="text-sm text-gray-500 mt-1">Oylik xarajatlar tahlili.</p>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm">
                            <h3 class="text-sm font-medium text-gray-900 mb-6">Kategoriyalar bo'yicha (Okt)</h3>
                            <div class="w-full h-64 flex justify-center">
                                <canvas id="categoriesChart"></canvas>
                            </div>
                        </div>

                        <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm">
                            <h3 class="text-sm font-medium text-gray-900 mb-6">6 Oylik Tahlil</h3>
                            <div class="w-full h-64">
                                <canvas id="monthlyChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- PAGE 6: SOZLAMALAR (SETTINGS) -->
                <div id="page-settings" class="space-y-6 hidden fade-in">
                    <div>
                        <h2 class="text-lg font-medium tracking-tight text-gray-900">Sozlamalar</h2>
                        <p class="text-sm text-gray-500 mt-1">Profil va ilova sozlamalari.</p>
                    </div>

                    <div class="bg-white rounded-xl border border-gray-200 shadow-sm divide-y divide-gray-100">
                        <div class="p-6">
                            <h3 class="text-sm font-medium text-gray-900 mb-4">Profil Ma'lumotlari</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-xs font-medium text-gray-700 mb-1.5">Ism</label>
                                    <input type="text" value="Admin" class="w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm focus:outline-none focus:border-gray-400 transition-colors">
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-gray-700 mb-1.5">Familiya</label>
                                    <input type="text" value="User" class="w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm focus:outline-none focus:border-gray-400 transition-colors">
                                </div>
                                <div class="md:col-span-2">
                                    <label class="block text-xs font-medium text-gray-700 mb-1.5">Email</label>
                                    <input type="email" value="admin@money.uz" class="w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm focus:outline-none focus:border-gray-400 transition-colors">
                                </div>
                            </div>
                        </div>

                        <div class="p-6">
                            <h3 class="text-sm font-medium text-gray-900 mb-4">Ilova Sozlamalari</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-xs font-medium text-gray-700 mb-1.5">Asosiy Valyuta</label>
                                    <select class="w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm focus:outline-none focus:border-gray-400">
                                        <option>UZS (O'zbek So'mi)</option>
                                        <option>USD (AQSH Dollari)</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-gray-700 mb-1.5">Til</label>
                                    <select class="w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm focus:outline-none focus:border-gray-400">
                                        <option>O'zbekcha</option>
                                        <option>English</option>
                                        <option>Русский</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="p-6 bg-gray-50/50 flex justify-end gap-3">
                            <button class="px-4 py-2 text-xs font-medium text-gray-600 hover:text-gray-900">Bekor qilish</button>
                            <button class="px-4 py-2 bg-gray-900 text-white text-xs font-medium rounded-md shadow-sm hover:bg-gray-800">Saqlash</button>
                        </div>
                    </div>
                </div>

            </div>

            <footer class="mt-12 mb-6 border-t border-gray-100 pt-6 text-center">
                <p class="text-[10px] text-gray-400">© 2023 Money Control. Barcha huquqlar himoyalangan.</p>
            </footer>
        </main>
    </div>

    <script>
        lucide.createIcons();

        function showPage(pageId) {
            const pages = [
                'dashboard', 'incomes', 'expenses', 'accounts', 'reports', 'settings',
                'add-income', 'add-expense', 'add-account'
            ];

            pages.forEach(id => {
                const el = document.getElementById('page-' + id);
                if (el) el.classList.add('hidden');
            });

            const targetPage = document.getElementById('page-' + pageId);
            if (targetPage) targetPage.classList.remove('hidden');

            const mainPages = ['dashboard', 'incomes', 'expenses', 'accounts', 'reports', 'settings'];

            mainPages.forEach(id => {
                const navItem = document.getElementById('nav-' + id);
                navItem.classList.remove('bg-gray-100', 'text-gray-900');
                navItem.classList.add('text-gray-500');
            });

            if (mainPages.includes(pageId)) {
                const activeNav = document.getElementById('nav-' + pageId);
                activeNav.classList.remove('text-gray-500');
                activeNav.classList.add('bg-gray-100', 'text-gray-900');
            } else if (pageId === 'add-income') {
                document.getElementById('nav-incomes').classList.remove('text-gray-500');
                document.getElementById('nav-incomes').classList.add('bg-gray-100', 'text-gray-900');
            } else if (pageId === 'add-expense') {
                document.getElementById('nav-expenses').classList.remove('text-gray-500');
                document.getElementById('nav-expenses').classList.add('bg-gray-100', 'text-gray-900');
            } else if (pageId === 'add-account') {
                document.getElementById('nav-accounts').classList.remove('text-gray-500');
                document.getElementById('nav-accounts').classList.add('bg-gray-100', 'text-gray-900');
            }

            const titles = {
                'dashboard': 'Dashboard',
                'incomes': 'Kirimlar',
                'expenses': 'Chiqimlar',
                'accounts': 'Hisoblar',
                'reports': 'Hisobotlar',
                'settings': 'Sozlamalar',
                'add-income': 'Yangi Kirim',
                'add-expense': 'Yangi Chiqim',
                'add-account': 'Yangi Hisob'
            };
            document.getElementById('page-title').innerText = titles[pageId];

            lucide.createIcons();
        }

        function toggleAccountFields(type) {
            const cardFields = document.getElementById('card-fields');
            if (type === 'card') cardFields.classList.remove('hidden');
            else cardFields.classList.add('hidden');
        }

        function setTheme(mode) {
            const body = document.body;
            const lightBtn = document.getElementById('theme-light');
            const darkBtn = document.getElementById('theme-dark');

            if (mode === 'dark') {
                body.classList.add('dark');
                localStorage.setItem('theme', 'dark');

                lightBtn.classList.remove('bg-gray-100', 'text-gray-900');
                lightBtn.classList.add('text-gray-500');

                darkBtn.classList.add('bg-gray-100', 'text-gray-900');
                darkBtn.classList.remove('text-gray-500');
            } else {
                body.classList.remove('dark');
                localStorage.setItem('theme', 'light');

                darkBtn.classList.remove('bg-gray-100', 'text-gray-900');
                darkBtn.classList.add('text-gray-500');

                lightBtn.classList.add('bg-gray-100', 'text-gray-900');
                lightBtn.classList.remove('text-gray-500');
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            // Theme init
            const saved = localStorage.getItem('theme') || 'light';
            setTheme(saved);

            document.getElementById('theme-light').addEventListener('click', () => setTheme('light'));
            document.getElementById('theme-dark').addEventListener('click', () => setTheme('dark'));

            // Charts
            const ctxMain = document.getElementById('financeChart').getContext('2d');
            const gradIncome = ctxMain.createLinearGradient(0, 0, 0, 300);
            gradIncome.addColorStop(0, 'rgba(16, 185, 129, 0.1)');
            gradIncome.addColorStop(1, 'rgba(16, 185, 129, 0)');

            const gradExpense = ctxMain.createLinearGradient(0, 0, 0, 300);
            gradExpense.addColorStop(0, 'rgba(244, 63, 94, 0.1)');
            gradExpense.addColorStop(1, 'rgba(244, 63, 94, 0)');

            new Chart(ctxMain, {
                type: 'line',
                data: {
                    labels: ['1', '5', '10', '15', '20', '25', '30'],
                    datasets: [
                        { label: 'Kirim', data: [1.2, 1.5, 3.0, 2.5, 4.5, 4.2, 5.0], borderColor: '#10B981', backgroundColor: gradIncome, borderWidth: 1.5, tension: 0.4, fill: true, pointRadius: 0 },
                        { label: 'Chiqim', data: [0.5, 0.8, 0.6, 1.2, 0.9, 1.5, 1.1], borderColor: '#F43F5E', backgroundColor: gradExpense, borderWidth: 1.5, tension: 0.4, fill: true, borderDash: [4,4], pointRadius: 0 }
                    ]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { x: { grid: { display: false } }, y: { display: false } } }
            });

            const ctxPie = document.getElementById('categoriesChart').getContext('2d');
            new Chart(ctxPie, {
                type: 'doughnut',
                data: {
                    labels: ['Oziq-ovqat', 'Transport', 'Uy-ro\'zg\'or', 'Kiyim-kechak'],
                    datasets: [{
                        data: [45, 20, 25, 10],
                        backgroundColor: ['#1F2937', '#6B7280', '#D1D5DB', '#F3F4F6'],
                        borderWidth: 0
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'right', labels: { font: { family: 'Inter', size: 10 }, boxWidth: 10 } } }, cutout: '75%' }
            });

            const ctxBar = document.getElementById('monthlyChart').getContext('2d');
            new Chart(ctxBar, {
                type: 'bar',
                data: {
                    labels: ['May', 'Iyun', 'Iyul', 'Avg', 'Sen', 'Okt'],
                    datasets: [
                        { label: 'Kirim', data: [8, 9, 10, 8.5, 11, 12.4], backgroundColor: '#1F2937', borderRadius: 2 },
                        { label: 'Chiqim', data: [5, 6, 5.5, 6, 7, 4.2], backgroundColor: '#E5E7EB', borderRadius: 2 }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        x: { grid: { display: false }, ticks: { font: { family: 'Inter', size: 10 } } },
                        y: { grid: { color: '#F9FAFB' }, ticks: { font: { family: 'Inter', size: 10 } } }
                    }
                }
            });
        });
    </script>

</body></html>